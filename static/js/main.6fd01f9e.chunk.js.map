{"version":3,"sources":["components/Loading.js","components/Error.js","components/EndQuiz.js","components/Answer.js","context.js","components/Clock.js","components/Quiz.js","App.js","index.js"],"names":["Loading","className","Error","EndQuiz","counter","questionLength","msg","Answer","answer","index","chooseAnswer","onClick","dangerouslySetInnerHTML","__html","AppContext","createContext","shufflingArray","array","i","length","tempCurrent","randomNumber","Math","floor","random","current","AppProvider","children","useState","setIndex","setCounter","seconds","setSeconds","quizData","setQuizData","loading","setLoading","error","setError","endGame","setEndGame","userAnswer","setUserAnswer","fetchData","useCallback","a","fetch","res","json","data","results","newQuizData","map","result","question","correct_answer","incorrect_answers","answers","correctAnswer","console","log","useEffect","Provider","value","useGlobalContext","useContext","Clock","Quiz","answersContainer","useRef","childNodes","forEach","item","classList","add","remove","interval","setInterval","prev","clearInterval","correctAnswerId","indexOf","setTimeout","nextQuestion","ref","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fd01f9e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className={'loader'}>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\n\r\nfunction Error() {\r\n    return (\r\n        <div className=\"error\">\r\n            <h2>ERROR! Something go wrong!</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import React from 'react'\r\n\r\nfunction EndQuiz({counter,questionLength}) {\r\n    const msg=counter>7 ?`It's a great result!`:counter>3?`It's not bad but could be better!`:'You definitely should more read about this!';\r\n\r\n    return (\r\n        <div className=\"question-wrapper endGame\">\r\n            <h2>\r\n              END! Your result: {counter}/{questionLength}.\r\n            </h2>\r\n              <p>{msg}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EndQuiz\r\n","import React from 'react'\r\n\r\nfunction Answer({answer,index,chooseAnswer}) {\r\n\r\n    return (\r\n        <div className=\"answer\" \r\n        onClick={()=>chooseAnswer(index)}\r\n        dangerouslySetInnerHTML={{__html:answer}}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Answer\r\n","import React,{createContext,useCallback,useContext,useEffect,useState} from 'react'\r\n\r\nconst AppContext=createContext(null);\r\n\r\nconst API_URL='https://opentdb.com/api.php?amount=10&category=23&difficulty=medium&type=multiple';\r\n\r\nconst shufflingArray=(array)=>{\r\n    for(let i=0;i<array.length;i++){\r\n      const randomNumber=Math.floor(Math.random()*array.length);\r\n      let tempCurrent=''\r\n      let current=array[i];\r\n      let random=array[randomNumber];\r\n\r\n      tempCurrent=current;\r\n      array[i]=random;\r\n      array[randomNumber]=tempCurrent;\r\n    }\r\n    return array;\r\n}\r\n\r\n\r\nfunction AppProvider({children}) {\r\n    let [index, setIndex] = useState(0);\r\n    let [counter, setCounter] = useState(0);\r\n    let [seconds, setSeconds] = useState(30);\r\n\r\n    const [quizData, setQuizData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const [endGame, setEndGame] = useState(false);\r\n    \r\n    const [userAnswer, setUserAnswer] = useState(null);\r\n  \r\n\r\n    const fetchData=useCallback( async ()=>{\r\n        setLoading(true);\r\n        try{\r\n            const res = await fetch(API_URL);\r\n            const data =await res.json();\r\n            const {results}=data;\r\n            if(results){\r\n            \r\n            const newQuizData=results.map((result,index)=>{\r\n              const {question,correct_answer,incorrect_answers}=result;\r\n              const answers=[correct_answer,...incorrect_answers];\r\n              shufflingArray(answers);\r\n              return{\r\n                question,\r\n                answers,\r\n                correctAnswer:correct_answer,\r\n                    }\r\n                });\r\n          \r\n            setQuizData(newQuizData);\r\n            }\r\n            else{\r\n            setQuizData([]);\r\n            }\r\n        }\r\n        catch(error){\r\n          console.log(error);\r\n          return setError(true);\r\n        }\r\n        setLoading(false);\r\n      },[]);\r\n    \r\n    \r\n      useEffect(() => {\r\n        fetchData();\r\n        console.log('render');\r\n      }, []);\r\n\r\n\r\n    return (\r\n        <AppContext.Provider value={{\r\n        quizData,loading,error,\r\n        setUserAnswer,userAnswer,\r\n        index, setIndex,\r\n        counter, setCounter,\r\n        endGame, setEndGame,\r\n        seconds, setSeconds\r\n        }}>\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useGlobalContext=()=>{\r\n    return useContext(AppContext);\r\n}\r\n\r\nexport {AppContext,AppProvider};\r\n","import React from 'react';\r\nimport {useGlobalContext} from '../context';\r\n\r\n\r\nfunction Clock() {\r\n    const{seconds}=useGlobalContext();\r\n\r\n    return (\r\n        <div className=\"clock-wrapper\">\r\n            <span>00</span>\r\n            <span>:</span>\r\n            <span>{seconds<1?'00':seconds<10?'0'+seconds:seconds}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Clock\r\n","import React,{useCallback,useEffect,useRef} from 'react';\r\n\r\nimport Answer from './Answer';\r\nimport Clock from './Clock';\r\n\r\nimport {useGlobalContext} from '../context';\r\n\r\n\r\nfunction Quiz() {\r\n    const {\r\n      setUserAnswer,\r\n      userAnswer,\r\n      setIndex,\r\n      quizData,\r\n      index,\r\n      counter, \r\n      setCounter,\r\n      setEndGame,\r\n      setSeconds,\r\n    }=useGlobalContext();\r\n\r\n    const {question,\r\n        answers,\r\n        correctAnswer,\r\n      }=quizData[index];\r\n\r\n    const answersContainer=useRef(null);\r\n\r\n  \r\n     const chooseAnswer=useCallback((index)=>{\r\n          \r\n            answersContainer.current.childNodes.forEach((item,i)=>{\r\n              if(i===index) {\r\n                setUserAnswer(i);\r\n                item.classList.add(\"answer-choosen\");\r\n              }\r\n              else item.classList.remove(\"answer-choosen\");\r\n            }\r\n            )\r\n    },[]); \r\n\r\n\r\n    const nextQuestion=()=>{\r\n          if(userAnswer===null) return;\r\n          \r\n          const correctAnswerId=answers.indexOf(correctAnswer);\r\n          \r\n          answersContainer.current.childNodes.forEach((item,i)=>{\r\n            item.classList.remove(\"answer-choosen\");\r\n            if (i===userAnswer && userAnswer!==correctAnswerId ) {\r\n              item.classList.add(\"answer-wrong\");\r\n            }\r\n            if(i===correctAnswerId) {\r\n              item.classList.add(\"answer-right\");\r\n            }\r\n            if(userAnswer===correctAnswerId&&i===correctAnswerId) {\r\n              setCounter(prev=>++prev);\r\n            }\r\n          }\r\n        )\r\n          \r\n          setTimeout(() => {\r\n              if(index===quizData.length-1) {\r\n                \r\n                return setEndGame(true)\r\n              };\r\n              setIndex(prev=>++prev);\r\n              \r\n              answersContainer.current.childNodes.forEach((item)=>{\r\n                item.className='answer';\r\n                setUserAnswer(null);\r\n              }\r\n              )\r\n            }, 1200);\r\n    }\r\n\r\n    useEffect(() => {\r\n      let interval;\r\n        \r\n      interval=setInterval(() => {\r\n        setSeconds(prev=>{\r\n          if(prev===0) {\r\n          if(index===quizData.length-1) {\r\n            return setEndGame(true)\r\n          }\r\n           setIndex(prev=>++prev);\r\n        };\r\n          return --prev\r\n        })\r\n      }, 1000);\r\n      return ()=>{\r\n        clearInterval(interval);\r\n        setSeconds(30);\r\n      }\r\n      \r\n    }, [index])\r\n  \r\n\r\n    return (\r\n        <div className=\"question-wrapper\">\r\n          <Clock/>\r\n        <div className=\"question-container\">\r\n           <h2 className=\"question\">Question:  ({index+1}/{quizData.length}) </h2>\r\n           <h3 \r\n           className=\"question-title\" \r\n           dangerouslySetInnerHTML={{__html:question}}\r\n           />\r\n           <div className=\"btn-container\">\r\n           <button className=\"btn\" onClick={()=>nextQuestion()}>Next</button>\r\n        </div>\r\n      </div>\r\n           <div className=\"answer-container\" ref={answersContainer}>\r\n             {answers.map((answer,index)=><Answer key={index} answer={answer} index={index} chooseAnswer={chooseAnswer} />)}\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Quiz\r\n","import React from 'react';\n\nimport Loading from './components/Loading';\nimport Error from './components/Error';\nimport EndQuiz from './components/EndQuiz';\nimport Quiz from './components/Quiz';\n\nimport {useGlobalContext} from './context';\n\n\nfunction App() {\n\n  const {quizData,loading,error,counter,endGame}=useGlobalContext();\n\n\n  if(endGame) return <EndQuiz counter={counter} questionLength={quizData.length}/>\n\n  if(loading) return <Loading/>;\n\n  if(error) return <Error/>;\n  \n  if(!quizData.length) return <Error/>;\n  \n  if(!endGame) return(<Quiz />)\n  \n  }\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {AppProvider} from './context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}