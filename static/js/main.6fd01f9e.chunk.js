(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(7),a=n.n(s),o=(n(14),n(0));var u=function(){return Object(o.jsx)("div",{className:"loader"})};var i=function(){return Object(o.jsx)("div",{className:"error",children:Object(o.jsx)("h2",{children:"ERROR! Something go wrong!"})})};var l=function(e){var t=e.counter,n=e.questionLength,r=t>7?"It's a great result!":t>3?"It's not bad but could be better!":"You definitely should more read about this!";return Object(o.jsxs)("div",{className:"question-wrapper endGame",children:[Object(o.jsxs)("h2",{children:["END! Your result: ",t,"/",n,"."]}),Object(o.jsx)("p",{children:r})]})};var j=function(e){var t=e.answer,n=e.index,r=e.chooseAnswer;return Object(o.jsx)("div",{className:"answer",onClick:function(){return r(n)},dangerouslySetInnerHTML:{__html:t}})},d=n(6),b=n.n(d),h=n(9),O=n(8),f=n(2),x=Object(r.createContext)(null),v=function(e){for(var t=0;t<e.length;t++){var n,r=Math.floor(Math.random()*e.length),c=e[t],s=e[r];n=c,e[t]=s,e[r]=n}return e};function m(e){var t=e.children,n=Object(r.useState)(0),c=Object(f.a)(n,2),s=c[0],a=c[1],u=Object(r.useState)(0),i=Object(f.a)(u,2),l=i[0],j=i[1],d=Object(r.useState)(30),m=Object(f.a)(d,2),p=m[0],w=m[1],g=Object(r.useState)([]),N=Object(f.a)(g,2),S=N[0],q=N[1],E=Object(r.useState)(!1),k=Object(f.a)(E,2),y=k[0],I=k[1],L=Object(r.useState)(!1),A=Object(f.a)(L,2),C=A[0],_=A[1],G=Object(r.useState)(!1),M=Object(f.a)(G,2),D=M[0],R=M[1],z=Object(r.useState)(null),T=Object(f.a)(z,2),H=T[0],J=T[1],U=Object(r.useCallback)(Object(O.a)(b.a.mark((function e(){var t,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,fetch("https://opentdb.com/api.php?amount=10&category=23&difficulty=medium&type=multiple");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,(r=n.results)?(c=r.map((function(e,t){var n=e.question,r=e.correct_answer,c=e.incorrect_answers,s=[r].concat(Object(h.a)(c));return v(s),{question:n,answers:s,correctAnswer:r}})),q(c)):q([]),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",_(!0));case 16:I(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])}))),[]);return Object(r.useEffect)((function(){U(),console.log("render")}),[]),Object(o.jsx)(x.Provider,{value:{quizData:S,loading:y,error:C,setUserAnswer:J,userAnswer:H,index:s,setIndex:a,counter:l,setCounter:j,endGame:D,setEndGame:R,seconds:p,setSeconds:w},children:t})}var p=function(){return Object(r.useContext)(x)};var w=function(){var e=p().seconds;return Object(o.jsxs)("div",{className:"clock-wrapper",children:[Object(o.jsx)("span",{children:"00"}),Object(o.jsx)("span",{children:":"}),Object(o.jsx)("span",{children:e<1?"00":e<10?"0"+e:e})]})};var g=function(){var e=p(),t=e.setUserAnswer,n=e.userAnswer,c=e.setIndex,s=e.quizData,a=e.index,u=(e.counter,e.setCounter),i=e.setEndGame,l=e.setSeconds,d=s[a],b=d.question,h=d.answers,O=d.correctAnswer,f=Object(r.useRef)(null),x=Object(r.useCallback)((function(e){f.current.childNodes.forEach((function(n,r){r===e?(t(r),n.classList.add("answer-choosen")):n.classList.remove("answer-choosen")}))}),[]);return Object(r.useEffect)((function(){var e;return e=setInterval((function(){l((function(e){if(0===e){if(a===s.length-1)return i(!0);c((function(e){return++e}))}return--e}))}),1e3),function(){clearInterval(e),l(30)}}),[a]),Object(o.jsxs)("div",{className:"question-wrapper",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"question-container",children:[Object(o.jsxs)("h2",{className:"question",children:["Question:  (",a+1,"/",s.length,") "]}),Object(o.jsx)("h3",{className:"question-title",dangerouslySetInnerHTML:{__html:b}}),Object(o.jsx)("div",{className:"btn-container",children:Object(o.jsx)("button",{className:"btn",onClick:function(){return function(){if(null!==n){var e=h.indexOf(O);f.current.childNodes.forEach((function(t,r){t.classList.remove("answer-choosen"),r===n&&n!==e&&t.classList.add("answer-wrong"),r===e&&t.classList.add("answer-right"),n===e&&r===e&&u((function(e){return++e}))})),setTimeout((function(){if(a===s.length-1)return i(!0);c((function(e){return++e})),f.current.childNodes.forEach((function(e){e.className="answer",t(null)}))}),1200)}}()},children:"Next"})})]}),Object(o.jsx)("div",{className:"answer-container",ref:f,children:h.map((function(e,t){return Object(o.jsx)(j,{answer:e,index:t,chooseAnswer:x},t)}))})]})};var N=function(){var e=p(),t=e.quizData,n=e.loading,r=e.error,c=e.counter,s=e.endGame;return s?Object(o.jsx)(l,{counter:c,questionLength:t.length}):n?Object(o.jsx)(u,{}):r?Object(o.jsx)(i,{}):t.length?s?void 0:Object(o.jsx)(g,{}):Object(o.jsx)(i,{})};a.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(m,{children:Object(o.jsx)(N,{})})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.6fd01f9e.chunk.js.map